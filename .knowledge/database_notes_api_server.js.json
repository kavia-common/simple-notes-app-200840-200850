{"is_source_file": true, "format": "JavaScript", "description": "This file is a server implementation using Express.js that provides a REST API for managing notes stored in a SQLite database. It includes route handlers for CRUD operations, database initialization, and configuration details.", "external_files": ["node_modules/express", "node_modules/sqlite3", "path"], "external_methods": ["require", "app.use", "app.get", "app.post", "app.put", "app.delete", "console.log", "process.env", "path.resolve", "new Date().toISOString()"], "published": ["GET /health", "GET /api/notes", "POST /api/notes", "PUT /api/notes/:id", "DELETE /api/notes/:id"], "classes": [], "methods": [{"name": "initSchema()", "description": "Initializes the SQLite database schema, creating the 'notes' table and index if they do not exist.", "scope": "", "scopeKind": ""}, {"name": "nowIso()", "description": "Returns the current timestamp in ISO 8601 format for created_at fields.", "scope": "", "scopeKind": ""}, {"name": "runAsync(sql, params = [])", "description": "Executes an SQL run statement (like INSERT, UPDATE, DELETE) and returns a Promise resolving with the result.", "scope": "", "scopeKind": ""}, {"name": "getAsync(sql, params = [])", "description": "Executes an SQL query expected to return a single row and returns a Promise resolving with that row.", "scope": "", "scopeKind": ""}, {"name": "allAsync(sql, params = [])", "description": "Executes an SQL query expected to return multiple rows and returns a Promise resolving with an array of rows.", "scope": "", "scopeKind": ""}, {"name": "onRun(err)", "scope": "runAsync", "scopeKind": "function", "description": "unavailable"}], "calls": ["db.serialize", "db.run", "db.get", "db.all", "app.use", "app.get", "app.post", "app.put", "app.delete", "console.error", "console.log"], "search-terms": ["notes_api", "SQLite schema", "Express CRUD", "CORS middleware", "initSchema", "server.js"], "state": 2, "file_id": 10, "knowledge_revision": 21, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEFAULT_DB_PATH", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^const DEFAULT_DB_PATH = path.resolve(__dirname, \"..\", \"myapp.db\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "PORT", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^const PORT = process.env.PORT ? Number(process.env.PORT) : 5001;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "SQLITE_DB_PATH", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^const SQLITE_DB_PATH = process.env.SQLITE_DB ? process.env.SQLITE_DB : DEFAULT_DB_PATH;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "allAsync", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^function allAsync(sql, params = []) {$/", "language": "JavaScript", "kind": "function", "signature": "(sql, params = [])"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^const app = express();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "db", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^const db = new sqlite3.Database(SQLITE_DB_PATH, (err) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^const express = require(\"express\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAsync", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^function getAsync(sql, params = []) {$/", "language": "JavaScript", "kind": "function", "signature": "(sql, params = [])"}, {"_type": "tag", "name": "initSchema", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^function initSchema() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "nowIso", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^function nowIso() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "onRun", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^    db.run(sql, params, function onRun(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)", "scope": "runAsync", "scopeKind": "function"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^const path = require(\"path\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "runAsync", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^function runAsync(sql, params = []) {$/", "language": "JavaScript", "kind": "function", "signature": "(sql, params = [])"}, {"_type": "tag", "name": "sqlite3", "path": "/home/kavia/workspace/code-generation/simple-notes-app-200840-200850/database/notes_api/server.js", "pattern": "/^const sqlite3 = require(\"sqlite3\").verbose();$/", "language": "JavaScript", "kind": "constant"}], "hash": "9551b5e1aa3a6b0fe04042b1cd5afeed", "format-version": 4, "code-base-name": "database", "filename": "database/notes_api/server.js", "revision_history": [{"21": ""}]}